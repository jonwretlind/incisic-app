{"ast":null,"code":"var _jsxFileName = \"/Users/jonwretlind/Dropbox (1)/__Jon/__Jon Project Files/Code Projects/Incisic/incisic-app/src/RORCalc.js\";\nimport './RORCalc.css';\nimport GoalSeek from './helpers/goalseek.js';\nimport Finance from 'financejs';\nimport ToolTip from './snippets/tooltip.js';\nimport React, { Component } from 'react';\nimport { useEffect } from 'react';\nimport { withStyles } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport $ from \"jquery\";\nconst finance = new Finance();\n\nvar _this;\n\nclass RORCalc extends Component {\n  constructor() {\n    super();\n    this.def = {\n      BOY: 0,\n      annPay: 1500,\n      mngFee: 1.10,\n      startYear: 1963,\n      numYears: 5,\n      percentStocks: 100,\n      percentBonds: 0,\n      percentTreas: 0,\n      api: \"http://18.188.124.75:5000/all\",\n      econData: null,\n      items: null,\n      histData: [],\n      dataTable: []\n    }; //this.RATE = new RATE();\n\n    this.gs = new GoalSeek();\n    this.avgRor = 0;\n    this.actRor = 0;\n    this.yearIndex = 0;\n    _this = this; //use _this to reference the variables when globals are needed\n  }\n\n  componentDidMount() {\n    fetch(this.def.api).then(result => {\n      return result.json();\n    }).then(data => {\n      this.def.histData = data; // put the data into global histData array\n\n      for (var i = 0; i <= this.def.histData.length; i++) {\n        if (this.def.histData[i].Year == this.def.startYear) {\n          this.yearIndex = i;\n          break;\n        }\n      }\n\n      this.runCalculation(this.yearIndex);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  runCalculation(yearIndex) {\n    var balEOY = 0;\n    var hData = _this.def.histData,\n        balBOY = _this.def.BOY,\n        annPay = _this.def.annPay,\n        idx = 0;\n\n    for (var j = yearIndex; j < yearIndex + _this.def.numYears; j++) {\n      var rate = hData[j].SandP,\n          year = hData[j].Year,\n          intRate = +hData[j].SandP.toFixed(2),\n          fv = Math.round(finance.FV(rate, balBOY + annPay, 1)),\n          mngFee = Math.round(_this.def.mngFee / 100 * (balBOY + annPay));\n\n      if (j > yearIndex) {\n        balBOY = balEOY;\n        fv = Math.round(finance.FV(rate, balBOY + annPay, 1));\n        mngFee = Math.round(_this.def.mngFee / 100 * (balBOY + annPay));\n        balEOY = fv - mngFee;\n      } else {\n        balEOY = fv - mngFee;\n      }\n\n      ;\n      idx++;\n\n      _this.def.dataTable.push({\n        idx: idx,\n        index: j,\n        year: year,\n        balBOY: balBOY,\n        intRate: intRate,\n        annPay: annPay,\n        mngFee: mngFee,\n        balEOY: balEOY\n      });\n\n      _this.renderTable(year, balBOY, intRate, annPay, mngFee, balEOY, idx); //console.log(_this.def.dataTable);\n\n    }\n\n    let initialValue = _this.def.dataTable[0].balBOY;\n    let targetValue = balEOY; //run the actual calculations\n\n    _this.actRor = _this.gs.seek(initialValue, _this.def.dataTable, targetValue);\n    _this.avgRor = _this.gs.calcavg(_this.def.dataTable);\n    console.log(_this);\n    console.log(\"avgROR=\", _this.avgRor.toFixed(2) + \"%\");\n    console.log(\"actROR=\", _this.actRor.toFixed(2) + \"%\");\n  }\n\n  renderTable(year, balBOY, intRate, annPay, mngFee, balEOY, idx) {\n    //render the table of values for each year\n    // Years from Start\t| Year\t| Balance BOY\t| Interest Rate\t| Annual Payment\t| Management Fee\t| Balance EOY\n    console.log(year, balBOY, intRate, annPay, mngFee, balEOY);\n    let table = document.getElementById('CalcTable');\n    let tableRow = `<div class='row'><div class='year'>${year}</div><div class='balBOY'>$${balBOY.toLocaleString()}</div><div class='intRate'>${intRate}%</div><div class='annPay'>$<input id='contrib-${idx}' value='${annPay.toLocaleString()}' onchange='var val = Number(this.value.replace(/\\,/g,\"\")); console.log(this.id, val, typeof val, ${this.def.dataTable[idx - 1].annPay});'/></div><div class='mngFee'>$${mngFee.toLocaleString()}</div><div class='balEOY'>$${balEOY.toLocaleString()}</div></div>`;\n    table.innerHTML += tableRow;\n    var contribution = React.findDOMNode(document.getElementById('contrib-' + idx).value);\n    console.log(contribution);\n  }\n\n  changed(event) {\n    _this.def.BOY = document.getElementById('BOY').value == \"\" ? _this.def.BOY : +document.getElementById('BOY').value;\n    _this.def.annPay = document.getElementById('annPay').value == \"\" ? _this.def.annPay : +document.getElementById('annPay').value;\n    _this.def.mngFee = document.getElementById('mngFee').value == \"\" ? _this.def.mngFee : +document.getElementById('mngFee').value;\n    _this.def.startYear = document.getElementById('startYear').value == \"\" ? _this.def.startYear : +document.getElementById('startYear').value;\n    _this.def.numYears = document.getElementById('numYears').value == \"\" ? _this.def.numYears : +document.getElementById('numYears').value;\n  }\n\n  updateTable(event) {\n    console.log(\"foo\");\n  }\n\n  calculate() {\n    //reset the dataTable and yearIndex first\n    _this.def.dataTable = [];\n\n    for (var i = 0; i <= _this.def.histData.length; i++) {\n      if (_this.def.histData[i].Year == _this.def.startYear) {\n        _this.yearIndex = i;\n        break;\n      }\n    } //clear the table data on screen\n\n\n    let table = document.getElementById('CalcTable');\n    table.innerHTML = \"\"; //run calculation again\n\n    _this.runCalculation(_this.yearIndex); //display results\n\n\n    var calcResultAVG = document.getElementById(\"CalcResultAVG\"),\n        calcLabelAVG = document.getElementById(\"CalcLabelAVG\"),\n        calcResultACT = document.getElementById(\"CalcResultACT\"),\n        calcLabelACT = document.getElementById(\"CalcLabelACT\");\n    calcLabelAVG.innerHTML = \"Average Rate of Return\";\n    calcLabelACT.innerHTML = \"Actual Rate of Return\";\n    calcResultAVG.innerHTML = _this.avgRor.toFixed(2) + \"%\";\n    calcResultACT.innerHTML = _this.actRor.toFixed(2) + \"%\";\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Box, {\n      sx: {\n        flexGrow: 1,\n        bgcolor: 'background.paper',\n        display: 'flex'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"RORCalcWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ror-data columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"input1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }, \"Present Value \", /*#__PURE__*/React.createElement(ToolTip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 40\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"BOY\",\n      placeholder: this.def.BOY,\n      onChange: event => this.changed(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"input2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 19\n      }\n    }, \"Annual Payment \", /*#__PURE__*/React.createElement(ToolTip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"annPay\",\n      placeholder: this.def.annPay,\n      onChange: event => this.changed(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"input3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    }, \"Management Fee \", /*#__PURE__*/React.createElement(ToolTip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"mngFee\",\n      placeholder: this.def.mngFee,\n      onChange: event => this.changed(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"input4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 19\n      }\n    }, \"Starting Year \", /*#__PURE__*/React.createElement(ToolTip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 40\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"startYear\",\n      placeholder: this.def.startYear,\n      onChange: event => this.changed(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"input5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 19\n      }\n    }, \"Number of Years \", /*#__PURE__*/React.createElement(ToolTip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 42\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"numYears\",\n      placeholder: this.def.numYears,\n      onChange: event => this.changed(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 19\n      }\n    }, \"PORTFOLIO ALLOCATION\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 21\n      }\n    }, \"Stock Market (S&P 500) \", /*#__PURE__*/React.createElement(ToolTip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 55\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"stocksPortfolio\",\n      placeholder: this.def.percentStocks,\n      onChange: event => this.changed(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }\n    }, \"Corporate Bonds \", /*#__PURE__*/React.createElement(ToolTip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 44\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"bondsPortfolio\",\n      placeholder: this.def.percentBonds,\n      onChange: event => this.changed(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }, \"Government Treasuries  \", /*#__PURE__*/React.createElement(ToolTip, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 51\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"treasPortfolio\",\n      placeholder: this.def.percentTreas,\n      onChange: event => this.changed(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(Button, {\n      className: \"calc-btn\",\n      variant: \"contained\",\n      size: \"large\",\n      onClick: this.calculate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, \"Calculate\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"Labels\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"Label1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }\n    }, \"YEAR\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"Label2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }\n    }, \"BOY BALANCE\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"Label3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 13\n      }\n    }, \"RATE\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"Label4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }\n    }, \"CONTRIBUTION\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"Label5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 13\n      }\n    }, \"MGMT FEE\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"Label6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }\n    }, \"EOY BALANCE\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"CalcTable\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"CalcResults\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"CalcLabelAVG\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"CalcResultAVG\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"CalcLabelACT\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"CalcResultACT\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default RORCalc;","map":{"version":3,"sources":["/Users/jonwretlind/Dropbox (1)/__Jon/__Jon Project Files/Code Projects/Incisic/incisic-app/src/RORCalc.js"],"names":["GoalSeek","Finance","ToolTip","React","Component","useEffect","withStyles","Box","Button","$","finance","_this","RORCalc","constructor","def","BOY","annPay","mngFee","startYear","numYears","percentStocks","percentBonds","percentTreas","api","econData","items","histData","dataTable","gs","avgRor","actRor","yearIndex","componentDidMount","fetch","then","result","json","data","i","length","Year","runCalculation","catch","error","console","log","balEOY","hData","balBOY","idx","j","rate","SandP","year","intRate","toFixed","fv","Math","round","FV","push","index","renderTable","initialValue","targetValue","seek","calcavg","table","document","getElementById","tableRow","toLocaleString","innerHTML","contribution","findDOMNode","value","changed","event","updateTable","calculate","calcResultAVG","calcLabelAVG","calcResultACT","calcLabelACT","render","flexGrow","bgcolor","display"],"mappings":"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","sourcesContent":["import './RORCalc.css';\nimport GoalSeek from './helpers/goalseek.js';\nimport Finance from 'financejs';\nimport ToolTip from './snippets/tooltip.js';\nimport React, { Component } from 'react';\nimport { useEffect } from 'react';\nimport { withStyles } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport $ from \"jquery\";\n\nconst finance = new Finance();\nvar _this;\n\nclass RORCalc extends Component {\n  constructor() {\n    super();\n    this.def = {\n      BOY: 0,\n      annPay: 1500,\n      mngFee: 1.10,\n      startYear: 1963,\n      numYears: 5,\n      percentStocks: 100,\n      percentBonds: 0,\n      percentTreas: 0,\n      api: \"http://18.188.124.75:5000/all\",\n      econData: null,\n      items: null,\n      histData: [],\n      dataTable: [],\n    };\n\n    //this.RATE = new RATE();\n    this.gs = new GoalSeek();\n    this.avgRor = 0;\n    this.actRor = 0;\n    this.yearIndex = 0;\n    _this = this; //use _this to reference the variables when globals are needed\n  }\n\n  componentDidMount() {\n    fetch(this.def.api)\n      .then(result => {\n        return result.json()\n      })\n      .then(data => {\n        this.def.histData = data; // put the data into global histData array\n        for (var i = 0; i <= this.def.histData.length; i++) {\n          if (this.def.histData[i].Year == this.def.startYear) {\n            this.yearIndex = i;\n            break;\n          }\n        }\n        this.runCalculation(this.yearIndex);\n      }).catch((error) => {\n        console.log(error);\n      })\n  };\n\n  runCalculation(yearIndex) {\n    var balEOY = 0;\n    var hData = _this.def.histData,\n      balBOY = _this.def.BOY,\n      annPay = _this.def.annPay,\n      idx = 0;\n\n    for (var j = yearIndex; j < (yearIndex + _this.def.numYears); j++) {\n      var rate = hData[j].SandP,\n        year = hData[j].Year,\n        intRate = +(hData[j].SandP).toFixed(2),\n        fv = Math.round(finance.FV(rate, balBOY + annPay, 1)),\n        mngFee = Math.round((_this.def.mngFee / 100) * (balBOY + annPay));\n\n      if (j > yearIndex) {\n        balBOY = balEOY;\n        fv = Math.round(finance.FV(rate, balBOY + annPay, 1));\n        mngFee = Math.round((_this.def.mngFee / 100) * (balBOY + annPay));\n        balEOY = fv - mngFee;\n      } else {\n        balEOY = fv - mngFee;\n      };\n      idx++;\n      _this.def.dataTable.push({\n        idx: idx,\n        index: j,\n        year: year,\n        balBOY: balBOY,\n        intRate: intRate,\n        annPay: annPay,\n        mngFee: mngFee,\n        balEOY: balEOY,\n      });\n\n      _this.renderTable(year, balBOY, intRate, annPay, mngFee, balEOY, idx);\n      //console.log(_this.def.dataTable);\n    }\n\n    let initialValue = _this.def.dataTable[0].balBOY;\n    let targetValue = balEOY;\n    //run the actual calculations\n    _this.actRor = _this.gs.seek(initialValue, _this.def.dataTable, targetValue);\n    _this.avgRor = _this.gs.calcavg(_this.def.dataTable);\n    console.log(_this);\n    console.log(\"avgROR=\", _this.avgRor.toFixed(2) + \"%\");\n    console.log(\"actROR=\", _this.actRor.toFixed(2) + \"%\");\n  };\n\n  renderTable(year, balBOY, intRate, annPay, mngFee, balEOY, idx) {\n    //render the table of values for each year\n    // Years from Start\t| Year\t| Balance BOY\t| Interest Rate\t| Annual Payment\t| Management Fee\t| Balance EOY\n    console.log(year, balBOY, intRate, annPay, mngFee, balEOY);\n    let table = document.getElementById('CalcTable');\n    let tableRow = `<div class='row'><div class='year'>${year}</div><div class='balBOY'>$${balBOY.toLocaleString()}</div><div class='intRate'>${intRate}%</div><div class='annPay'>$<input id='contrib-${idx}' value='${annPay.toLocaleString()}' onchange='var val = Number(this.value.replace(/\\,/g,\"\")); console.log(this.id, val, typeof val, ${this.def.dataTable[idx-1].annPay});'/></div><div class='mngFee'>$${mngFee.toLocaleString()}</div><div class='balEOY'>$${balEOY.toLocaleString()}</div></div>`;\n    table.innerHTML += tableRow;\n    var contribution = React.findDOMNode(document.getElementById('contrib-' + idx).value);\n    console.log(contribution);\n  }\n\n  changed(event) {\n    _this.def.BOY = (document.getElementById('BOY').value == \"\") ? _this.def.BOY : +(document.getElementById('BOY').value);\n    _this.def.annPay = (document.getElementById('annPay').value == \"\") ? _this.def.annPay : +(document.getElementById('annPay').value);\n    _this.def.mngFee = (document.getElementById('mngFee').value == \"\") ? _this.def.mngFee : +(document.getElementById('mngFee').value);\n    _this.def.startYear = (document.getElementById('startYear').value == \"\") ? _this.def.startYear : +(document.getElementById('startYear').value);\n    _this.def.numYears = (document.getElementById('numYears').value == \"\") ? _this.def.numYears : +(document.getElementById('numYears').value);\n  }\n\n  updateTable(event) {\n    console.log(\"foo\");\n  }\n\n  calculate() {\n    //reset the dataTable and yearIndex first\n    _this.def.dataTable = [];\n    for (var i = 0; i <= _this.def.histData.length; i++) {\n      if (_this.def.histData[i].Year == _this.def.startYear) {\n        _this.yearIndex = i;\n        break;\n      }\n    }\n    //clear the table data on screen\n    let table = document.getElementById('CalcTable');\n    table.innerHTML = \"\";\n    //run calculation again\n    _this.runCalculation(_this.yearIndex);\n    //display results\n    var calcResultAVG = document.getElementById(\"CalcResultAVG\"),\n      calcLabelAVG = document.getElementById(\"CalcLabelAVG\"),\n      calcResultACT = document.getElementById(\"CalcResultACT\"),\n      calcLabelACT = document.getElementById(\"CalcLabelACT\");\n    calcLabelAVG.innerHTML = \"Average Rate of Return\";\n    calcLabelACT.innerHTML = \"Actual Rate of Return\";\n    calcResultAVG.innerHTML = _this.avgRor.toFixed(2) + \"%\";\n    calcResultACT.innerHTML = _this.actRor.toFixed(2) + \"%\";\n  }\n\n\n  render() {\n    return (\n      <Box\n        sx={{ flexGrow: 1, bgcolor: 'background.paper', display: 'flex' }}\n      >\n        <div className=\"container\">\n          <div id=\"RORCalcWrapper\">\n            <div className=\"ror-data columns\">\n              <div className=\"col1\">\n                <div id=\"input1\">\n                  <label>Present Value <ToolTip /></label>\n                  <input type=\"number\"\n                    id=\"BOY\"\n                    placeholder={this.def.BOY}\n                    onChange={(event) => this.changed(event)} />\n                </div>\n                <div id=\"input2\">\n                  <label>Annual Payment <ToolTip /></label>\n                  <input type=\"number\"\n                    id=\"annPay\"\n                    placeholder={this.def.annPay}\n                    onChange={(event) => this.changed(event)} />\n                </div>\n                <div id=\"input3\">\n                  <label>Management Fee <ToolTip /></label>\n                  <input type=\"number\"\n                    id=\"mngFee\"\n                    placeholder={this.def.mngFee}\n                    onChange={(event) => this.changed(event)} />\n                </div>\n                <div id=\"input4\">\n                  <label>Starting Year <ToolTip /></label>\n                  <input type=\"number\"\n                    id=\"startYear\"\n                    placeholder={this.def.startYear}\n                    onChange={(event) => this.changed(event)} />\n                </div>\n                <div id=\"input5\">\n                  <label>Number of Years <ToolTip /></label>\n                  <input type=\"number\"\n                    id=\"numYears\"\n                    placeholder={this.def.numYears}\n                    onChange={(event) => this.changed(event)} />\n                </div>\n              </div>\n              <div className=\"col2\">\n                <div className=\"group\">\n                  <h5>PORTFOLIO ALLOCATION</h5>\n                  <div>\n                    <label>Stock Market (S&amp;P 500) <ToolTip /></label>\n                    <input type=\"number\"\n                      id=\"stocksPortfolio\"\n                      placeholder={this.def.percentStocks}\n                      onChange={(event) => this.changed(event)} />\n                  </div>\n                  <div>\n                    <label>Corporate Bonds <ToolTip /></label>\n                    <input type=\"number\"\n                      id=\"bondsPortfolio\"\n                      placeholder={this.def.percentBonds}\n                      onChange={(event) => this.changed(event)} />\n                  </div>\n                  <div>\n                    <label>Government Treasuries  <ToolTip /></label>\n                    <input type=\"number\"\n                      id=\"treasPortfolio\"\n                      placeholder={this.def.percentTreas}\n                      onChange={(event) => this.changed(event)} />\n                  </div>\n                </div>\n              </div>\n            </div>\n            <Button className=\"calc-btn\"\n              variant=\"contained\"\n              size=\"large\"\n              onClick={this.calculate}\n            >\n              Calculate\n            </Button>\n          </div>\n          <div>\n          <div id=\"Labels\">\n            <div id=\"Label1\">YEAR</div>\n            <div id=\"Label2\">BOY BALANCE</div>\n            <div id=\"Label3\">RATE</div>\n            <div id=\"Label4\">CONTRIBUTION</div>\n            <div id=\"Label5\">MGMT FEE</div>\n            <div id=\"Label6\">EOY BALANCE</div>\n          </div>\n            <div id=\"CalcTable\"></div>\n            <div id=\"CalcResults\">\n              <div id=\"CalcLabelAVG\"></div>\n              <div id=\"CalcResultAVG\"></div>\n              <div id=\"CalcLabelACT\"></div>\n              <div id=\"CalcResultACT\"></div>\n            </div>\n          </div>\n        </div>\n      </Box>\n    )\n  }\n\n}\n\n\nexport default RORCalc;\n"]},"metadata":{},"sourceType":"module"}