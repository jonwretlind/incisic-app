{"ast":null,"code":"import React, { Component } from 'react';\nimport Finance from 'financejs';\n\nclass GoalSeek extends React.Component {\n  constructor() {\n    //\n    super();\n  }\n\n  seek(initialValue, investments, targetValue) {\n    const n = investments.length; // number of periods\n\n    let rate = 0.1; // initial guess for the rate of return\n    // calculate the net present value of the investments at the initial guess for the rate of return\n\n    let npv = initialValue;\n\n    for (let i = 0; i < n; i++) {\n      npv += investments[i] / Math.pow(1 + rate, i + 1);\n    } // iterate until the net present value is close enough to the target value, or until the maximum number of iterations is reached\n\n\n    const tolerance = 1e-6; // tolerance for the error between the net present value and the target value\n\n    const maxIterations = 100; // maximum number of iterations\n\n    let iterations = 0; // current number of iterations\n\n    while (Math.abs(npv - targetValue) > tolerance && iterations < maxIterations) {\n      // adjust the rate of return based on the error between the net present value and the target value\n      rate += (targetValue - npv) / npv; // recalculate the net present value at the new rate of return\n\n      npv = initialValue;\n\n      for (let i = 0; i < n; i++) {\n        npv += investments[i] / Math.pow(1 + rate, i + 1);\n      }\n\n      iterations++;\n    }\n\n    if (iterations === maxIterations) {\n      throw new Error('Could not find a solution within the maximum number of iterations');\n    }\n\n    return rate;\n  }\n\n}\n\nexport default GoalSeek;","map":{"version":3,"sources":["/Users/jonwretlind/Dropbox (1)/__Jon/__Jon Project Files/Code Projects/Incisic/incisic-app/src/helpers/goalseek.js"],"names":["React","Component","Finance","GoalSeek","constructor","seek","initialValue","investments","targetValue","n","length","rate","npv","i","Math","pow","tolerance","maxIterations","iterations","abs","Error"],"mappings":"AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,QAAN,SAAuBH,KAAK,CAACC,SAA7B,CAAuC;AACrCG,EAAAA,WAAW,GAAG;AACZ;AACA;AACD;;AACDC,EAAAA,IAAI,CAACC,YAAD,EAAeC,WAAf,EAA4BC,WAA5B,EAAyC;AAC3C,UAAMC,CAAC,GAAGF,WAAW,CAACG,MAAtB,CAD2C,CACZ;;AAC/B,QAAIC,IAAI,GAAG,GAAX,CAF2C,CAE1B;AAEjB;;AACA,QAAIC,GAAG,GAAGN,YAAV;;AACA,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,CAApB,EAAuBI,CAAC,EAAxB,EAA4B;AAC1BD,MAAAA,GAAG,IAAIL,WAAW,CAACM,CAAD,CAAX,GAAiBC,IAAI,CAACC,GAAL,CAAS,IAAIJ,IAAb,EAAmBE,CAAC,GAAG,CAAvB,CAAxB;AACD,KAR0C,CAU3C;;;AACA,UAAMG,SAAS,GAAG,IAAlB,CAX2C,CAWlB;;AACzB,UAAMC,aAAa,GAAG,GAAtB,CAZ2C,CAYf;;AAC5B,QAAIC,UAAU,GAAG,CAAjB,CAb2C,CAatB;;AACrB,WAAOJ,IAAI,CAACK,GAAL,CAASP,GAAG,GAAGJ,WAAf,IAA8BQ,SAA9B,IAA2CE,UAAU,GAAGD,aAA/D,EAA8E;AAC5E;AACAN,MAAAA,IAAI,IAAI,CAACH,WAAW,GAAGI,GAAf,IAAsBA,GAA9B,CAF4E,CAI5E;;AACAA,MAAAA,GAAG,GAAGN,YAAN;;AACA,WAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,CAApB,EAAuBI,CAAC,EAAxB,EAA4B;AAC1BD,QAAAA,GAAG,IAAIL,WAAW,CAACM,CAAD,CAAX,GAAiBC,IAAI,CAACC,GAAL,CAAS,IAAIJ,IAAb,EAAmBE,CAAC,GAAG,CAAvB,CAAxB;AACD;;AAEDK,MAAAA,UAAU;AACX;;AAED,QAAIA,UAAU,KAAKD,aAAnB,EAAkC;AAChC,YAAM,IAAIG,KAAJ,CAAU,mEAAV,CAAN;AACD;;AAED,WAAOT,IAAP;AACD;;AArCoC;;AAwCvC,eAAeR,QAAf","sourcesContent":["\nimport React, { Component } from 'react';\nimport Finance from 'financejs';\n\nclass GoalSeek extends React.Component {\n  constructor() {\n    //\n    super();\n  }\n  seek(initialValue, investments, targetValue) {\n    const n = investments.length;  // number of periods\n    let rate = 0.1;  // initial guess for the rate of return\n\n    // calculate the net present value of the investments at the initial guess for the rate of return\n    let npv = initialValue;\n    for (let i = 0; i < n; i++) {\n      npv += investments[i] / Math.pow(1 + rate, i + 1);\n    }\n\n    // iterate until the net present value is close enough to the target value, or until the maximum number of iterations is reached\n    const tolerance = 1e-6;  // tolerance for the error between the net present value and the target value\n    const maxIterations = 100;  // maximum number of iterations\n    let iterations = 0;  // current number of iterations\n    while (Math.abs(npv - targetValue) > tolerance && iterations < maxIterations) {\n      // adjust the rate of return based on the error between the net present value and the target value\n      rate += (targetValue - npv) / npv;\n\n      // recalculate the net present value at the new rate of return\n      npv = initialValue;\n      for (let i = 0; i < n; i++) {\n        npv += investments[i] / Math.pow(1 + rate, i + 1);\n      }\n\n      iterations++;\n    }\n\n    if (iterations === maxIterations) {\n      throw new Error('Could not find a solution within the maximum number of iterations');\n    }\n\n    return rate;\n  }\n}\n\nexport default GoalSeek;\n"]},"metadata":{},"sourceType":"module"}