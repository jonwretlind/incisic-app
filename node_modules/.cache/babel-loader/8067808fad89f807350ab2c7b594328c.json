{"ast":null,"code":"function GoalSeek(initialValue, rate, investments, targetValue) {\n  const n = investments.length; // number of periods\n  // calculate the net present value of the investments at the initial guess for the rate of return\n\n  let npv = initialValue;\n\n  for (let i = 0; i < n; i++) {\n    npv += investments[i].balBOY / Math.pow(1 + rate, i + 1);\n  } // iterate until the net present value is close enough to the target value\n\n\n  const tolerance = 1e-2; // tolerance for the error between the net present value and the target value\n\n  while (Math.abs(npv - targetValue) > tolerance) {\n    // adjust the rate of return based on the error between the net present value and the target value\n    rate += (targetValue - npv) / npv; // recalculate the net present value at the new rate of return\n\n    npv = initialValue;\n\n    for (let i = 0; i < n; i++) {\n      npv += investments[i].balBOY / Math.pow(1 + rate, i + 1);\n    }\n  }\n\n  return rate;\n}\n\nexport default GoalSeek;","map":{"version":3,"sources":["/Users/jonwretlind/Dropbox (1)/__Jon/__Jon Project Files/Code Projects/Incisic/incisic-app/src/helpers/goalseek.js"],"names":["GoalSeek","initialValue","rate","investments","targetValue","n","length","npv","i","balBOY","Math","pow","tolerance","abs"],"mappings":"AACA,SAASA,QAAT,CAAkBC,YAAlB,EAAgCC,IAAhC,EAAsCC,WAAtC,EAAmDC,WAAnD,EAAgE;AAC9D,QAAMC,CAAC,GAAGF,WAAW,CAACG,MAAtB,CAD8D,CAC/B;AAE/B;;AACA,MAAIC,GAAG,GAAGN,YAAV;;AACA,OAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAApB,EAAuBG,CAAC,EAAxB,EAA4B;AAC1BD,IAAAA,GAAG,IAAIJ,WAAW,CAACK,CAAD,CAAX,CAAeC,MAAf,GAAwBC,IAAI,CAACC,GAAL,CAAS,IAAIT,IAAb,EAAmBM,CAAC,GAAG,CAAvB,CAA/B;AACD,GAP6D,CAS9D;;;AACA,QAAMI,SAAS,GAAG,IAAlB,CAV8D,CAUrC;;AACzB,SAAOF,IAAI,CAACG,GAAL,CAASN,GAAG,GAAGH,WAAf,IAA8BQ,SAArC,EAAgD;AAC9C;AACAV,IAAAA,IAAI,IAAI,CAACE,WAAW,GAAGG,GAAf,IAAsBA,GAA9B,CAF8C,CAI9C;;AACAA,IAAAA,GAAG,GAAGN,YAAN;;AACA,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAApB,EAAuBG,CAAC,EAAxB,EAA4B;AAC1BD,MAAAA,GAAG,IAAIJ,WAAW,CAACK,CAAD,CAAX,CAAeC,MAAf,GAAwBC,IAAI,CAACC,GAAL,CAAS,IAAIT,IAAb,EAAmBM,CAAC,GAAG,CAAvB,CAA/B;AACD;AACF;;AAED,SAAON,IAAP;AACD;;AAED,eAAeF,QAAf","sourcesContent":["\nfunction GoalSeek(initialValue, rate, investments, targetValue) {\n  const n = investments.length;  // number of periods\n\n  // calculate the net present value of the investments at the initial guess for the rate of return\n  let npv = initialValue;\n  for (let i = 0; i < n; i++) {\n    npv += investments[i].balBOY / Math.pow(1 + rate, i + 1);\n  }\n\n  // iterate until the net present value is close enough to the target value\n  const tolerance = 1e-2;  // tolerance for the error between the net present value and the target value\n  while (Math.abs(npv - targetValue) > tolerance) {\n    // adjust the rate of return based on the error between the net present value and the target value\n    rate += (targetValue - npv) / npv;\n\n    // recalculate the net present value at the new rate of return\n    npv = initialValue;\n    for (let i = 0; i < n; i++) {\n      npv += investments[i].balBOY / Math.pow(1 + rate, i + 1);\n    }\n  }\n\n  return rate;\n}\n\nexport default GoalSeek;\n"]},"metadata":{},"sourceType":"module"}